<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Backend Settings</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="pgpool-II 3.6.4 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Server Configuration"
HREF="runtime-config.html"><LINK
REL="PREVIOUS"
TITLE="Running mode"
HREF="runtime-config-runnung-mode.html"><LINK
REL="NEXT"
TITLE="Connection Pooling"
HREF="runtime-config-connection-pooling.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2017-05-11T09:56:13"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>pgpool-II 3.6.4 Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="Running mode"
HREF="runtime-config-runnung-mode.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Server Configuration</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="Connection Pooling"
HREF="runtime-config-connection-pooling.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RUNTIME-CONFIG-BACKEND-SETTINGS"
>5.4. Backend Settings</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="RUNTIME-CONFIG-BACKEND-CONNECTION-SETTINGS"
>5.4.1. Backend Connection Settings</A
></H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="GUC-BACKEND-HOSTNAME"
></A
><TT
CLASS="VARNAME"
>backend_hostname</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
		</DT
><DD
><P
>						<TT
CLASS="VARNAME"
>backend_hostname</TT
> specifies the
						<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> backend to be connected to.
						It is used by <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> to communicate
						with the server.
		</P
><P
>			For TCP/IP communication, this parameter can take a hostname
			or an IP address. If this begins with a slash(<TT
CLASS="LITERAL"
>/</TT
>), it specifies
			Unix-domain communication rather than TCP/IP; the value is
			the name of the directory in which the socket file is
			stored. The default behavior when backend_hostname is empty
			(<TT
CLASS="LITERAL"
>''</TT
>) is to connect to a Unix-domain socket in <TT
CLASS="FILENAME"
>/tmp</TT
>.
		</P
><P
>			Multiple backends can be specified by adding a number at the
			end of the parameter name (e.g.backend_hostname0). This
			number is referred to as "DB node ID", and it starts from
			0. The backend which was given the DB node ID of 0 will be
			called "master node". When multiple backends are defined, the
			service can be continued even if the master node is down (not
			true in some modes). In this case, the youngest DB node ID
			alive will be the new master node.
		</P
><P
>			Please note that the DB node which has id 0 has no special
			meaning if operated in streaming replication mode. Rather,
			you should care about if the DB node is the "primary node" or
			not. See <A
HREF="runtime-config-load-balancing.html"
>Section 5.7</A
>,
			<A
HREF="runtime-config-failover.html"
>Section 5.9</A
>,
			<A
HREF="runtime-streaming-replication-check.html"
>Section 5.11</A
>
			for more details.
		</P
><P
>			If you plan to use only one <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> server, specify it by
			backend_hostname0.
		</P
><P
>			New nodes can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> in
			that case.
		</P
></DD
><DT
><A
NAME="GUC-BACKEND-PORT"
></A
><TT
CLASS="VARNAME"
>backend_port</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)
		</DT
><DD
><P
>						<TT
CLASS="VARNAME"
>backend_port</TT
> specifies the port number
						of the backends. Multiple backends can be specified by
						adding a number at the end of the parameter name
						(e.g. backend_port0). If you plan to use only one
						<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> server, specify it by backend_port0.
		</P
><P
>			New backend ports can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> in
			that case.
		</P
></DD
><DT
><A
NAME="GUC-BACKEND-WEIGHT"
></A
><TT
CLASS="VARNAME"
>backend_weight</TT
> (<TT
CLASS="TYPE"
>floating point</TT
>)
		</DT
><DD
><P
>						<TT
CLASS="VARNAME"
>backend_weight</TT
> specifies the load balance
						ratio of the backends. It may be set to any interger or
						floating point value greater than or equeal zero.
						Multiple backends can be specified by
						adding a number at the end of the parameter name
						(e.g. backend_weight0). If you plan to use only one
						PostgreSQL server, specify it by backend_weight0.
		</P
><P
>			New <TT
CLASS="VARNAME"
>backend_weight</TT
> can be added in this parameter by
			reloading a configuration file. However, this will take
			effect only for new established client sessions.
			<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>V2.2.6</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>V2.3</I
></SPAN
> or later
			allows alllow updating the values by reloading a configuration file.
			This is useful if you want to prevent any query sent to
			slaves to perform some administrative work in master/slave mode.
		</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="RUNTIME-CONFIG-BACKEND-DATA"
>5.4.2. Backend Data Settings</A
></H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="GUC-BACKEND-DATA-DIRECTORY"
></A
><TT
CLASS="VARNAME"
>backend_data_directory</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
		</DT
><DD
><P
>						<TT
CLASS="VARNAME"
>backend_data_directory</TT
> specifies the
						database cluster directory of the backend. Multiple backends can be
						specified by adding a number at the end of the parameter
						name (e.g. backend_data_directory0). If you plan to use
						only one PostgreSQL server, specify it by
						backend_data_directory0.
		</P
><P
>			New <TT
CLASS="VARNAME"
>backend data_directory</TT
> can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> in
			that case.
		</P
></DD
><DT
><A
NAME="GUC-BACKEND-FLAG"
></A
><TT
CLASS="VARNAME"
>backend_flag</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
		</DT
><DD
><P
>						<TT
CLASS="VARNAME"
>backend_flag</TT
> controls various backend
						behavior. Multiple backends can be specified by adding a
						number at the end of the parameter name
						(e.g. backend_flag0). If you plan to use only one
						PostgreSQL server, specify it by backend_flag0.
		</P
><P
>			New backend flags can be added by adding parameter rows and reloading a
			configuration file. Currently followings are allowed. Multiple flags can
			be specified by using "|".
		</P
><DIV
CLASS="TABLE"
><A
NAME="BACKEND-FLAG-TABLE"
></A
><P
><B
>Table 5-3. Backend flags</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>Flag</TH
><TH
>Description</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
>ALLOW_TO_FAILOVER</TT
></TD
><TD
>Allow to failover or detaching backend. This
				is the default. You cannot specify with
				DISALLOW_TO_FAILOVER at a same time.</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>DISALLOW_TO_FAILOVER</TT
></TD
><TD
>Disllow to failover or detaching backend
				This is useful when you protect backend by
				using HA (High Availability) softwares such as
				<SPAN
CLASS="PRODUCTNAME"
>Heartbeat</SPAN
> or <SPAN
CLASS="PRODUCTNAME"
>Pacemaker</SPAN
>. You cannot specify with
				ALLOW_TO_FAILOVER at a same time.
			</TD
></TR
></TBODY
></TABLE
></DIV
><P
>			This parameter can be changed by reloading the <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> configurations.
		</P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-config-runnung-mode.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="runtime-config-connection-pooling.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Running mode</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Connection Pooling</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>